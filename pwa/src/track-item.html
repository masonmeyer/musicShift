<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/paper-ripple/paper-ripple.html">
<link rel="import" href="../bower_components/paper-item/paper-icon-item.html">
<link rel="import" href="../bower_components/paper-item/paper-item-body.html">
<link rel="import" href="../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="./track-voter.html">
<link rel="import" href="shared-styles.html">

<dom-module id="track-item">
  <template>
    <style include="shared-styles">
      .playing {
        background-color: rgba(66, 133, 244, 0.29);
      }
    </style>

    <paper-icon-item active="{{tappable}}" class$="{{conditionalClass(item.playing, 'playing')}}">
      <template is="dom-if" if="{{tappable}}">
        <paper-ripple></paper-ripple>
      </template>
      <img style="max-width: 100%" src="{{item.image}}" item-icon />
      <paper-item-body two-line style="margin-left: 10px">
        <div>{{item.name}}</div>
        <div secondary>{{item.artist}}</div>
      </paper-item-body>
      <template is="dom-if" if="{{votable}}">
        <track-voter item="{{item}}" upvoted="{{upvoted}}" />
      </template>
    </paper-item>
  </template>

  <script>
    Polymer({
      is: 'track-item',
      conditionalClass: function (bool, val) {
        return bool ? val : '';
      }
    });
  </script>
</dom-module>
